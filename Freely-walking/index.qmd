---
title: "Freely-walking Experiments"
---

The **Freely Walking Course Control Mechanisms** screen was conducted in **2025** using the G3 LED arena in the Reiser Lab at HHMI's Janelia Research Campus. The screen measures optomotor responses, motion-induced centring behaviour, and general locomotion metrics in freely-walking *Drosophila*. Flies are presented with moving visual stimuli (gratings, bars, flicker, curtains, reverse-phi) while their trajectories are tracked at 30 fps.

______________________

The experiment protocol was designed by Laura Burnett and experiments were conducted by Laura Burnett and **Aparna Dev** from PTR. All fly husbandry was carried out by **Edward Rogers**.

::: {.callout-tip}
### New to this project?
Start with the [Quickstart](freely_walking_quickstart.qmd) page for step-by-step instructions on running, creating, and analysing experiments. See the [Rig Specs](freely-walking-rig-specs.qmd) page for hardware and software requirements. If something goes wrong, check the [Troubleshooting](freely_walking_troubleshooting.qmd) page.
:::

## Experiment workflow

The typical workflow for running the freely-walking screen is:

```
    ┌──────────────────────────────┐
    │  Prepare arena               │
    │                              │
    │  Power on arena, open BIAS   │
    │  and PControl, load flies    │
    └──────────────┬───────────────┘
                   │
                   ▼
            ┌──────────────────────────────┐
            │  Run protocol (~17 min)      │
            │                              │
            │  Run protocol_27.m in MATLAB │
            │  5 min acclimation + 12      │
            │  conditions x 2 reps         │
            └──────────────┬───────────────┘
                           │
                           ▼
                    ┌──────────────────────────────┐
                    │  Track flies                 │
                    │                              │
                    │  Run FlyTracker on .ufmf     │
                    │  video → trx.mat + feat.mat  │
                    └──────────────┬───────────────┘
                                  │
                                  ▼
                           ┌──────────────────────────────┐
                           │  Analyse                     │
                           │                              │
                           │  process_freely_walking_data │
                           │  then process_screen_data    │
                           └──────────────────────────────┘
```

## Code availability

The code for generating and running these protocols is publicly available [here](https://github.com/leburnett/freely-walking-optomotor).

## Data availability

See the [Data Organisation](freely_walking_data.qmd) page for details on where data is stored and how it is structured.

::: {.callout-note}
### Auto-generated pages
The individual [pattern](freely_walking_patterns_index.qmd) and [protocol](freely_walking_protocols_index.qmd) documentation pages are auto-generated from the code repository using Python scripts in the `docs_generator/` folder. See the pattern and protocol index pages for instructions on regenerating these pages after making changes.
:::
